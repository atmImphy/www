webpackJsonp([3],{"7GLN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"PhotoList",data:function(){return{categoryList:[],imgList:[],currentIndex:0}},methods:{loadImgByCategoryId:function(t){var e=this;this.$axios.get("getimages/"+t).then(function(t){e.imgList=t.data.message,0===e.imgList.length&&e.$toast({message:"没图片了！",iconClass:"iconfont icontupianjiazaishibai",duration:1e3})}).catch(function(t){console.log("图片数据出错了",t)})},categoryHandler:function(t,e){this.$router.push({name:"photo.list",params:{categoryId:t}}),this.currentIndex=e,console.log(t)}},beforeRouteEnter:function(t,e,a){a(function(e){e.loadImgByCategoryId(t.params.categoryId)})},beforeRouteUpdate:function(t,e,a){console.log(t.params),this.loadImgByCategoryId(t.params.categoryId),a()},created:function(){var t=this;this.$axios.get("getimgcategory").then(function(e){t.categoryList=e.data.message,t.categoryList.unshift({id:0,title:"全部"})}).catch(function(t){console.log("图文分享出错了",t)})}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photoList"},[a("Navbar",{attrs:{title:"图文分享"}}),t._v(" "),a("div",{staticClass:"category-list"},[a("ul",t._l(t.categoryList,function(e,i){return a("li",{key:e.id,on:{click:function(a){return t.categoryHandler(e.id,i)}}},[a("a",{class:{active:i==t.currentIndex},attrs:{href:"javascript:void(0);"}},[t._v(t._s(e.title))])])}),0)]),t._v(" "),a("div",{staticClass:"photo-list"},[a("ul",t._l(t.imgList,function(e,i){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"photo.detail",query:{id:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img_url,expression:"item.img_url"}]})]),t._v(" "),a("p",[a("span",{staticClass:"item_title"},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"con"},[t._v(t._s(e.zhaiyao))])])],1)}),0)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(t){a("lLWP")},"data-v-c27e1e58",null);e.default=s.exports},lLWP:function(t,e){}});
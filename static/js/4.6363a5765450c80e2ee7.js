webpackJsonp([4],{A4DW:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=i("4lbf"),a={name:"GoodsDetail",props:["name"],data:function(){return{url:"getthumImg/"+this.$route.params.id,goodsInfo:[],pickNum:1,isExist:!1}},methods:{afterEnter:function(){this.isExist=!1,this.$store.dispatch("addShopNumByAction",this.pickNum),o.a.add({id:this.goodsInfo.id,num:this.pickNum})},ballHandler:function(){this.pickNum>this.goodsInfo.stock_quantity?(this.isExist=!1,this.$toast({message:"库存不足"})):this.isExist=!0},add:function(){this.pickNum<this.goodsInfo.stock_quantity?this.pickNum++:this.$toast({message:"库存不足",duration:1e3})},substract:function(){1!==this.pickNum?this.pickNum--:this.$toast({message:"至少选择1个",duration:1e3})},shopComment:function(){this.$router.push({name:"good.comment",query:{id:this.$route.params.id}})},showShopInfo:function(){this.$router.push({name:"photo.info",query:{id:this.$route.params.id}})}},created:function(){var t=this;this.$axios.get("goods/getinfo/"+this.$route.params.id).then(function(s){t.goodsInfo=s.data.message[0]}).catch(function(t){console.log("商品详情出错了"+t)})}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"detail"},[i("Navbar",{attrs:{title:"商品详情"}}),t._v(" "),i("div",{staticClass:"outer-swiper"},[i("div",{staticClass:"swiper"},[i("MySwiper",{attrs:{url:t.url,myHeight:"300px"}})],1)]),t._v(" "),i("div",{staticClass:"product-desc"},[i("ul",[i("li",[i("span",{staticClass:"product-desc-span"},[t._v("\n          "+t._s(t.goodsInfo.title)+"\n        ")])]),t._v(" "),i("li",{staticClass:"price-li"},[t._v("\n        市场价：\n        "),i("s",[t._v("￥"+t._s(t.goodsInfo.market_price))]),t._v("销售价："),i("span",{staticStyle:{"font-size":"18px"}},[t._v("￥"+t._s(t.goodsInfo.sell_price))])]),t._v(" "),i("li",{staticClass:"number-li"},[t._v("\n        购买数量："),i("span",{on:{click:t.substract}},[t._v("-")]),i("span",[t._v(t._s(t.pickNum))]),i("span",{on:{click:t.add}},[t._v("+")])]),t._v(" "),i("li",[i("mt-button",{attrs:{type:"primary",size:"small"}},[t._v("立即购买")]),t._v(" "),i("mt-button",{attrs:{type:"danger",size:"small"},on:{click:t.ballHandler}},[t._v("加入购物车")])],1)])]),t._v(" "),i("transition",{attrs:{name:"ball"},on:{"after-enter":t.afterEnter}},[t.isExist?i("div",{staticClass:"ball"}):t._e()]),t._v(" "),i("div",{staticClass:"product-props"},[i("ul",[i("li",[t._v("商品参数")]),t._v(" "),i("li",[t._v("商品货号："+t._s(t.goodsInfo.goods_no))]),t._v(" "),i("li",[t._v("库存情况："+t._s(t.goodsInfo.stock_quantity)+"件")]),t._v(" "),i("li",[t._v("上架时间："+t._s(t._f("converTime")(t.goodsInfo.add_time,"YYYY-MM-DD")))])])]),t._v(" "),i("div",{staticClass:"product-info"},[i("ul",[i("li",[i("mt-button",{attrs:{type:"primary",size:"large",plain:""},nativeOn:{click:function(s){return t.showShopInfo(s)}}},[t._v("图文介绍")])],1),t._v(" "),i("li",[i("mt-button",{attrs:{type:"danger",size:"large",plain:""},nativeOn:{click:function(s){return t.shopComment(s)}}},[t._v("商品评论")])],1)])])],1)},staticRenderFns:[]};var e=i("VU/8")(a,n,!1,function(t){i("q4mV")},"data-v-b0ace482",null);s.default=e.exports},q4mV:function(t,s){}});
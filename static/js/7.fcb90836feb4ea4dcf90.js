webpackJsonp([7],{"1Gfr":function(t,o){},MI3X:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e={name:"GoodsList",data:function(){return{page:this.$route.params.page,goodsList:[],allLoaded:!1,wrapperHeight:0,autoFill:!1,pull:"上拉刷新中...",drop:"达到上拉距离",loading:"释放中...",tips:""}},methods:{handleBottomChange:function(t){console.log(t)},loadBottom:function(){console.log("上拉调用了"),this.loadData(),this.$refs.loadmore.onBottomLoaded()},loadData:function(){var t=this;this.$axios.get("getgoods/?pageindex="+this.page).then(function(o){console.log(o.data.message),0===o.data.message.length?(t.$toast({message:"没数据了",iconClass:"iconfont iconmeiyou"}),t.tips="没有数据加载了",t.allLoaded=!0):(t.goodsList=t.goodsList.concat(o.data.message),t.page++)}).catch(function(t){console.log("商品展示出错了"+t)})}},created:function(){this.loadData()},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top}},s={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("Navbar",{attrs:{title:"商品列表"}}),t._v(" "),a("div",{staticClass:"page-loadmore"},[a("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[a("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:t.pull,bottomDropText:t.drop,bottomLoadingText:t.loading,"auto-fill":t.autoFill},on:{"bottom-status-change":t.handleBottomChange}},[a("ul",{staticClass:"page-loadmore-list"},t._l(t.goodsList,function(o,e){return a("li",{key:o.id},[a("router-link",{attrs:{to:{name:"good.detail",params:{id:o.id}}}},[a("img",{attrs:{src:o.img_url}}),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(t._f("controlShow")(o.title,10)))]),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"sell"},[a("span",[t._v("￥"+t._s(o.sell_price)+" ")]),t._v(" "),a("s",[t._v("￥"+t._s(o.market_price))])]),t._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"hot"},[t._v("\n                        热卖中\n                      ")]),t._v(" "),a("div",{staticClass:"count"},[t._v("\n                        剩"+t._s(o.stock_quantity)+"件\n                      ")])])])])],1)}),0)]),t._v(" "),a("p",{staticClass:"tips",domProps:{innerHTML:t._s(t.tips)}})],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(e,s,!1,function(t){a("1Gfr")},"data-v-78e1824f",null);o.default=i.exports}});